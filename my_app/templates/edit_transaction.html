{% extends "base.html" %}

{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/input_field.css' %}">
<style>
    .radio label {
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        display: inline-block; /* Ensures each label is on its line */
        margin-right: 10%; /* Adjust the margin between labels */
    }
</style>
<div style="margin: 0 auto;
    max-width: fit-content;
    height: fit-content;
    padding: 20px;
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0px 5px 10px #5B5FC5, 5px 0px 10px #5B5FC5;
    margin-top: 50px;
    text-align: center;
    justify-content: space-around;
    margin-bottom: 30px;">

<h2 style="font-family: Verdana, Geneva, Tahoma, sans-serif; color: #5B5FC5; margin-bottom: 10%;">Edit Transaction</h2>

<form method="POST" action="{% url 'edit_transaction_action' transaction.id %}">
    {% csrf_token %}
    <div>
        <input type="text" placeholder='Transaction Name' id="name" name="name" required style="width: 70%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; background-color: #E9ECFA; font-family: Verdana, Geneva, Tahoma, sans-serif" value="{{ transaction.name }}">
    </div>
    <div style="margin-bottom: 3%;">
        <input type="number" id="amount" name="amount" placeholder="Amount" style="width: 70%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; background-color: #E9ECFA; font-family: Verdana, Geneva, Tahoma, sans-serif;" min="0" step="0.01" pattern="^\d+(\.\d{1,2})?$" required value="{{ transaction.amount }}">
    </div>
    
    <div>
        <select id="type" name="type" style="width: 70%; padding: 8px; border-radius: 5px; border: 1px solid #ccc; background-color: #E9ECFA; font-family: Verdana, Geneva, Tahoma, sans-serif">
            <optgroup label="Category Options">
                {% for category in categories %}
                    <option value="{{ category.category_id }}" {% if category.category_id == transaction.category.category_id %} selected {% endif %}>{{ category.category_id }}</option>
                {% endfor %}
            </optgroup>
        </select>
    </div>

    <label for="date" style="font-family: Verdana, Geneva, Tahoma, sans-serif;">Date:</label>
    <input type="date" id="date" name="date" style="font-family: Verdana, Geneva, Tahoma, sans-serif; background-color: #E9ECFA; padding: 5px; border-radius: 5px; border: none;" required value="{{ transaction.week|date:'Y-m-d' }}">
    <div>
        <label class="radio">
            <span class="savings-label">
                <label>
                    <input type="radio" name="transaction_type" value="off" {% if not is_negative %} checked {% endif %}>
                    Savings
                </label>
             
                <label>
                    <input type="radio" name="transaction_type" value="on" {% if is_negative %} checked {% endif %}>
                    Spendings
                </label>
            </span>
        </label>
    </div>
    <button type="button" onclick="window.location.href='{% url 'view_transactions' %}'"  
        style="background-color: #5B5FC5;
        background-color: #ffffff;
        border: 2px solid #5B5FC5;
        color: #5B5FC5;
        padding: 10px 20px;
        border-radius: 5px;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        cursor: pointer;
        margin-right: 10px;">Cancel</button>
    <button type="submit" style="background-color: #5B5FC5;
        color: #ffffff;
        border: none;
        border: 2px solid #5B5FC5;
        padding: 10px 20px;
        max-width: fit-content;
        border-radius: 5px;
        font-family: Verdana, Geneva, Tahoma, sans-serif;
        cursor: pointer;">Save</button>
</form>
</div>

{% endblock %}
